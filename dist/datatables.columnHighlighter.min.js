/*!
 HTMLExtensions v0.1.6 — DataTables ColumnHighlighter & ToggleView
 (c) 2011–2025 Przemyslaw Klys @ Evotec
 https://htmlextensions.evotec.xyz | MIT License | Build: 2025-10-01T17:30:10.204Z
*/
/*!
 HTMLExtensions v0.1.6 — DataTables ColumnHighlighter & ToggleView
 (c) 2011–2025 Przemyslaw Klys @ Evotec
 https://htmlextensions.evotec.xyz | MIT License | Build: 2025-10-01T17:30:10.204Z
*/
!function(){if("undefined"!=typeof window){window.DataTablesColumnHighlighter={configurations:{},detectStore:function(t){try{if(t&&t.rows){var r=t.rows({page:"current"}).data(),n=r&&r.length?r[0]:null;if(Array.isArray(n))return"HTML";if(n&&"object"==typeof n)return"JavaScript"}}catch(t){}return"HTML"},normalizeCondition:function(r,n,o){if(!r)return r;try{if(r.dataStore||(r.dataStore=o),(void 0===r.columnId||-1===r.columnId)&&r.columnName){for(var e=(""+r.columnName).toLowerCase(),a=0;a<n.length;a++)if((n[a]+"").toLowerCase()===e){r.columnId=a;break}if(void 0===r.columnId||-1===r.columnId)for(var i=t(r.columnName),l=0;l<n.length;l++)if(t(n[l])===i){r.columnId=l;break}}r.columnName&&""!==r.columnName||"number"!=typeof r.columnId||r.columnId>=0&&r.columnId<n.length&&(r.columnName=n[r.columnId])}catch(t){}return r},normalizeRules:function(t,r,n){try{for(var e=o(t),a=this.detectStore(n),i=0;i<r.length;i++){var l=r[i];if(l&&l.conditionsContainer)for(var c=0;c<l.conditionsContainer.length;c++){var u=l.conditionsContainer[c];if(u&&u.conditions)for(var s=0;s<u.conditions.length;s++)u.conditions[s]=this.normalizeCondition(u.conditions[s],e,a)}}}catch(t){}return r},normalizeRowData:function(t){try{if(Array.isArray(t))return t.map(function(t){try{return jQuery("<p>"+t+"</p>").text().trim()}catch(r){return(""+t).trim()}})}catch(t){}return t},init:function(t,r,n){var o=this.normalizeRules(t,Array.isArray(r)?r:[r],n);this.configurations[t]={config:o,table:n},this.setupEventHandlers(t,n)},setupEventHandlers:function(t,r){var n=this;r&&r.on&&(r.on("responsive-display",function(r,o,e,a){try{if(a){var i=e.node(),l=jQuery(i),c=e.data();n.applyHighlighting(t,l,c)}}catch(t){}}),r.on("draw.dt",function(){try{r.rows({page:"current"}).every(function(){var r=this.node(),o=jQuery(r),e=this.data();n.applyHighlighting(t,o,e)})}catch(t){}}),setTimeout(function(){try{r.rows({page:"current"}).every(function(){var r=this.node(),o=jQuery(r),e=this.data();n.applyHighlighting(t,o,e)})}catch(t){}},0)),r&&r.on||jQuery("#"+t+" tbody").on("click","td.dtr-control, td.dt-control, .dtr-control, .dt-control",function(){var r=jQuery(this).closest("tr");setTimeout(function(){if(r.next("tr.child").length>0){var o=[];r.find("td").each(function(){var t=jQuery(this);t.hasClass("dtr-control")||t.hasClass("dt-control")||o.push(t.text().trim())}),n.applyHighlighting(t,r,o)}},100)})},applyHighlighting:function(t,r,o){var e=this.configurations[t];if(e){for(var a=r.next("tr.child"),i=this.normalizeRowData(o),l={},c=0;c<e.config.length;c++){var u=e.config[c];if(!u.conditionsContainer||function(){try{for(var t=!1,r=[],o=0;o<u.conditionsContainer.length;o++){var e=u.conditionsContainer[o];r=[];for(var a=0;a<e.conditions.length;a++){var l=e.conditions[a];r.push(n(l,i))}if("AND"==e.logic){t=!0;for(var c=0;c<r.length;c++)if(!0!==r[c]){t=!1;break}}else if("OR"==e.logic){t=!1;for(var s=0;s<r.length;s++)if(!0===r[s]){t=!0;break}}else if("NONE"==e.logic){t=!0;for(var g=0;g<r.length;g++)if(!1!==r[g]){t=!1;break}}if(t)return!0}return t}catch(t){return!1}}())for(var s=0;s<u.targets.length;s++){var g=p(u.targets[s]);v(g.column,g,!0)}else if(u.failTargets)for(var h=0;h<u.failTargets.length;h++){var f=p(u.failTargets[h]);v(f.column,f,!1)}}for(var d in l)if(Object.prototype.hasOwnProperty.call(l,d)){var m=C(l[d]);if(m){var y={column:/^-?\d+$/.test(d)?parseInt(d,10):d,backgroundColor:m.backgroundColor,textColor:m.textColor,css:m.css,highlightParent:m.highlightParent};a.length>0&&DataTablesColumnHighlighter.applyColumnStyling(a,y),DataTablesColumnHighlighter.applyVisibleCellStyling(t,r,y)}}}function v(t,r,n){t&&(l[t]||(l[t]={pass:[],fail:[]}),(n?l[t].pass:l[t].fail).push(r||{}))}function p(t){return{column:t.column,backgroundColor:t.backgroundColor,textColor:t.textColor,css:t.css,highlightParent:t.highlightParent}}function C(t){var r=t.pass.length>0?t.pass:t.fail;if(0===r.length)return null;for(var n={},o=0;o<r.length;o++){var e=r[o]||{};if(e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.textColor&&(n.textColor=e.textColor),e.highlightParent&&(n.highlightParent=e.highlightParent),e.css)for(var a in n.css=n.css||{},e.css)Object.prototype.hasOwnProperty.call(e.css,a)&&(n.css[a]=e.css[a])}return n}},applyColumnStyling:function(r,n){var o=t(n.column);r.find(".dtr-title").each(function(){var r=jQuery(this),e=(r.text()||"").trim();if(e===n.column||t(e)===o){var a=r.siblings(".dtr-data").length>0?r.siblings(".dtr-data"):r.next();n.backgroundColor&&a.css("background-color",n.backgroundColor),n.textColor&&a.css("color",n.textColor),n.css&&a.css(n.css),n.highlightParent&&(r.parent().css("background-color",n.backgroundColor),n.textColor&&r.parent().css("color",n.textColor))}})},applyVisibleCellStyling:function(r,n,e){try{var a="number"==typeof e.column?e.column:function(r,n){var e=o(r);if(!n)return-1;for(var a=(""+n).toLowerCase(),i=t(n),l=0;l<e.length;l++)if((""+e[l]).toLowerCase()===a)return l;for(var c=0;c<e.length;c++)if(t(e[c])===i)return c;return-1}(r,e.column);if(a<0)return;var i=n.find("td");if(0===i.length)return;var l=i.eq(a);if(l&&l.length>0){if(e.textColor&&l.css("color",e.textColor),e.backgroundColor){l.css("background-color",e.backgroundColor);try{l.css("--bs-table-accent-bg","transparent")}catch(t){}l.css("box-shadow","inset 0 0 0 9999px "+e.backgroundColor)}e.css&&l.css(e.css)}}catch(t){}},createConfig:function(t,r){return[{condition:t,targets:Array.isArray(r)?r:[r]}]}},window.setupChildRowConditionalFormatting=function(t,r,n,a,i,l){try{var c=o(t),u=function(){try{if(l&&l.rows){var t=l.rows({page:"current"}).data(),r=t&&t.length?t[0]:null;if(Array.isArray(r))return"HTML";if(r&&"object"==typeof r)return"JavaScript"}}catch(t){}return"HTML"}();try{for(var s=0;s<r.length;s++){var g=r[s];if(g&&g.conditions)for(var h=0;h<g.conditions.length;h++){var f=g.conditions[h]||{};if(f.dataStore||(f.dataStore=u),(void 0===f.columnId||-1===f.columnId)&&f.columnName)for(var d=(""+f.columnName).toLowerCase(),m=0;m<c.length;m++)if((c[m]+"").toLowerCase()===d){f.columnId=m;break}f.columnName&&""!==f.columnName||"number"!=typeof f.columnId||f.columnId>=0&&f.columnId<c.length&&(f.columnName=c[f.columnId]),g.conditions[h]=f}}}catch(t){}var y=[];if(Array.isArray(n))for(s=0;s<n.length;s++){var v=n[s],p=null;if("number"==typeof v?p=e(t,v):"string"==typeof v?p=v:v&&"object"==typeof v&&v.column&&(p=v.column),null!=p){var C={column:p};a&&(a["background-color"]&&(C.backgroundColor=a["background-color"]),a.color&&(C.textColor=a.color),C.css=a),y.push(C)}}var b={conditionsContainer:r,targets:y};if(window.DataTablesColumnHighlighter&&window.DataTablesColumnHighlighter.configurations&&window.DataTablesColumnHighlighter.configurations[t])try{window.DataTablesColumnHighlighter.configurations[t].config.push(b);var w=l||window.DataTablesColumnHighlighter.configurations[t].table;w&&w.rows&&w.rows({page:"current"}).every(function(){var r=this.node(),n=jQuery(r),o=this.data();window.DataTablesColumnHighlighter.applyHighlighting(t,n,o)})}catch(r){window.DataTablesColumnHighlighter.init(t,[b],l||window.DataTablesColumnHighlighter.configurations[t].table)}else window.DataTablesColumnHighlighter.init(t,[b],l)}catch(t){}},window.setupColumnHighlighting=function(t,r,n){DataTablesColumnHighlighter.init(t,r,n)};try{jQuery(document).on("preInit.dt",function(t,r){a(r)}),jQuery(document).on("init.dt",function(t,r){a(r)})}catch(t){}try{jQuery(function(){try{if(!jQuery.fn.dataTable)return;var t=function(){try{var t=jQuery.fn.dataTable.tables({api:!0});return t.every(function(){try{a(this.settings()[0])}catch(t){}}),t&&t.count&&t.count()>0}catch(t){return!1}};t();var r=0,n=setInterval(function(){var o=t();r++,(o||r>40)&&clearInterval(n)},50)}catch(t){}})}catch(t){}}function t(t){try{return(""+t).toLowerCase().replace(/[\s\u00A0\u202F\-_]/g,"").replace(/[^a-z0-9]/gi,"")}catch(r){return""+t}}function r(t){if("number"==typeof t)return t;var r=(""+t).trim();if(r){var n=-1!==(r=r.replace(/[\s\u00A0\u202F]/g,"")).indexOf(","),o=-1!==r.indexOf(".");n&&o?r=r.lastIndexOf(",")>r.lastIndexOf(".")?(r=r.replace(/\./g,"")).replace(",","."):r.replace(/,/g,""):n&&!o&&(r=r.replace(",","."));var e=Number(r);return isNaN(e)?void 0:e}}function n(t,n){var o,e=t.columnName,a=t.reverseCondition,i=t.columnId,l=(t.operator||"").toLowerCase();if("html"!=(t.dataStore||"").toLowerCase()){var c=!1;if(Object.getOwnPropertyNames(n).forEach(function(t){if(t.toLowerCase()==e.toLowerCase())return e=t,void(c=!0)}),!c)return!1;o=n[e]}else{if(-1==i)return!1;o=n[i]}var u,s,g=t.value;if("bool"==t.type)o=String(o).toLowerCase(),g=String(g).toLowerCase();else if("string"==t.type)t.caseSensitive||(o=String(o).toLowerCase(),g=String(g).toLowerCase());else if("number"==t.type)if(Array.isArray(g)){for(var h=[],f=0;f<g.length;f++){var d=r(g[f]);h.push(d)}g=h,o=r(o)}else g=r(g),o=r(o);else if("date"==t.type){if(Array.isArray(t.valueDate)){for(var m=[],y=0;y<t.valueDate.length;y++){var v=t.valueDate[y];m.push(new Date(v.year,v.month-1,v.day,v.hours,v.minutes,v.seconds))}g=m}else{var p=t.valueDate;g=new Date(p.year,p.month-1,p.day,p.hours,p.minutes,p.seconds)}var C="undefined"!=typeof moment?moment(o,t.dateTimeFormat):o;o=new Date(C)}return a?(u=g,s=o):(u=o,s=g),"eq"==l?u==s:"ne"==l?u!=s:"gt"==l?u>s:"lt"==l?u<s:"le"==l?u<=s:"ge"==l?u>=s:"in"==l?Array.isArray(s)&&-1!=s.indexOf(u):"notin"==l?Array.isArray(s)&&-1==s.indexOf(u):"contains"==l||"like"==l?new RegExp(s).test(u):"notcontains"==l||"notlike"==l?!new RegExp(s).test(u):"betweeninclusive"==l?Array.isArray(s)&&u>=s[0]&&u<=s[1]:"between"==l&&(Array.isArray(s)&&u>s[0]&&u<s[1])}function o(t){try{var r=[];return jQuery("#"+t+" thead th").each(function(){r.push(jQuery(this).text().trim())}),r}catch(t){return[]}}function e(t,r){var n=o(t);return r>=0&&r<n.length?n[r]:null}function a(t){try{var r=new jQuery.fn.dataTable.Api(t),n=t&&t.nTable?t.nTable.getAttribute("id"):null;if(!n)return;if(window.DataTablesColumnHighlighter&&window.DataTablesColumnHighlighter.configurations&&window.DataTablesColumnHighlighter.configurations[n])return;var o=(t.oInit||{}).columnHighlighter;if(!o)return;var e=o.rules||o.config||[];if(!e||Array.isArray(e)&&0===e.length)return;window.DataTablesColumnHighlighter.init(n,e,r);try{r.rows({page:"current"}).every(function(){var t=this.node(),r=jQuery(t),o=this.data();window.DataTablesColumnHighlighter.applyHighlighting(n,r,o)})}catch(t){}}catch(t){}}}();